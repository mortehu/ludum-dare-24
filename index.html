<!DOCTYPE html>
<script id='shader-fs' type='x-shader/x-fragment'>
  precision mediump float;
  varying vec2 var_TextureCoord;
  varying float var_Alpha;

  uniform sampler2D uniform_Sampler;

  void main (void)
  {
    gl_FragColor = texture2D (uniform_Sampler, vec2 (var_TextureCoord.s, var_TextureCoord.t));
    gl_FragColor.a *= var_Alpha;
  }
</script>
<script id='shader-vs' type='x-shader/x-vertex'>
  attribute vec3 attr_VertexPosition;
  attribute vec2 attr_TextureCoord;

  uniform vec4 uniform_Camera;

  varying vec2 var_TextureCoord;
  varying float var_Alpha;

  void main (void)
  {
    gl_Position = vec4 (-1.0 + ((attr_VertexPosition.x - uniform_Camera.z) * uniform_Camera.x) * 2.0,
                         1.0 - ((attr_VertexPosition.y - uniform_Camera.w) * uniform_Camera.y) * 2.0, 0.0, 1.0);
    var_TextureCoord = attr_TextureCoord;
    var_Alpha = attr_VertexPosition.z;
  }
</script>
<script src='soundmanager2-nodebug-jsmin.js'></script>
<script src='webgl-utils.js'></script>
<script src='game.js'></script>
<style>
  html, body { margin: 0; padding: 0; }
  body { background: #1f2f3f; }
  b { color: #fff !important; }
</style>
<title>Ludum Dare 24 Entry by Morten Hustveit</title>
<body onload='GAME_Init ()'>
  <canvas id='game-canvas' width=1000 height=666 style='display: block; margin: auto'></canvas>
  <script>
    function resize()
    {
      var gameCanvas, newWidth, newHeight;

      if (window.innerWidth * 2 / 3 > window.innerHeight)
      {
        /* Need pillar box */

        newHeight = window.innerHeight;
        newWidth = newHeight * 3 / 2;
      }
      else
      {
        /* Need letter box */

        newWidth = window.innerWidth;
        newHeight = newHeight * 2 / 3;
      }

      gameCanvas = document.getElementById('game-canvas');

      gameCanvas.style.width = newWidth + 'px';
      gameCanvas.style.height = newHeight + 'px';
      gameCanvas.width = newWidth;
      gameCanvas.height = newHeight;
    }

    window.addEventListener('resize', resize, false);
    window.addEventListener('orientationchange', resize, false);
    resize ();
  </script>
</body>
